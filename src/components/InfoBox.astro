---
interface Props {
  type?: 'info' | 'success' | 'warning' | 'danger' | 'highlight';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const colors = {
  info: { bg: 'rgba(88, 166, 255, 0.1)', border: '#58a6ff', text: '#58a6ff' },
  success: { bg: 'rgba(63, 185, 80, 0.1)', border: '#3fb950', text: '#3fb950' },
  warning: { bg: 'rgba(210, 153, 34, 0.15)', border: '#d29922', text: '#d29922' },
  danger: { bg: 'rgba(248, 81, 73, 0.1)', border: '#f85149', text: '#f85149' },
  highlight: { bg: 'rgba(163, 113, 247, 0.1)', border: '#a371f7', text: '#a371f7' },
};

const icons = {
  info: '‚ÑπÔ∏è',
  success: '‚úÖ',
  warning: '‚ö†Ô∏è',
  danger: 'üö´',
  highlight: 'üí°',
};

const style = colors[type];
---

<div class="info-box-component" style={`background: ${style.bg}; border-left-color: ${style.border};`}>
  {title && (
    <h4 style={`color: ${style.text};`}>
      <span class="icon">{icons[type]}</span> {title}
    </h4>
  )}
  <div class="content">
    <slot />
  </div>
</div>

<style>
  .info-box-component {
    border: 1px solid var(--border-color);
    border-left: 4px solid;
    border-radius: 0 8px 8px 0;
    padding: 1.25rem 1.5rem;
    margin: 1.5rem 0;
  }

  .info-box-component h4 {
    margin: 0 0 0.75rem 0;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .icon {
    font-size: 1rem;
  }

  .content {
    color: var(--text-primary);
  }

  .content :global(p) {
    margin: 0;
    color: var(--text-primary);
  }

  .content :global(p:not(:last-child)) {
    margin-bottom: 0.75rem;
  }

  .content :global(ul) {
    margin: 0.5rem 0 0 0;
    padding-left: 1.25rem;
  }

  .content :global(li) {
    color: var(--text-primary);
    margin-bottom: 0.4rem;
  }
</style>
